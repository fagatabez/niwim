local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

print("âœ… Skrypt zostaÅ‚ pomyÅ›lnie zaÅ‚adowany i jest gotowy do uÅ¼ycia!")

local filesSet1 = {
	"czasomierz.lua", "esp.lua", "iloÅ›Ä‡ staminy.lua", "odlegÅ‚oÅ›Ä‡.lua", 
	"rake heal.lua", "therake.lua", "tower of hell.lua", "wytrzymaj.lua"
}

local filesSet2 = {
	"wstrzÄ…s.lua", "auto clicker.lua", "fogrem.lua", "fast kill.lua", 
	"na afka telepoti.lua", "zmienrozb.lua", "aitest.lua", "zmienrozl.lua", "op"
}

local filesSet3 = { "sciana.lua" }

local decScript = "dec.lua"

local alwaysReloadFiles = {
	["zmienrozb.lua"] = true,
	["zmienrozl.lua"] = true,
	["tower of hell.lua"] = true
}

local loadedFiles = {}
local pressedKeys = {}

-- ğŸ”¹ Funkcja pobierajÄ…ca zawartoÅ›Ä‡ z GitHuba
local function fetchFile(file)
	local url = "https://raw.githubusercontent.com/fagatabez/haksy/main/" .. file
	print("â³ Pobieranie pliku: " .. file .. " z URL: " .. url)

	local success, response = pcall(function()
		return HttpService:GetAsync(url)
	end)

	if success and response and response ~= "" then
		print("âœ… Pobrano plik: " .. file)
		return response
	else
		warn("âš ï¸ BÅ‚Ä…d pobierania pliku: " .. file)
		return nil
	end
end

-- ğŸ”¹ Funkcja do "Å‚adowania" zestawÃ³w
local function loadScripts(files, setName)
	for _, file in ipairs(files) do
		if loadedFiles[file] and not alwaysReloadFiles[file] then
			print("â© Plik " .. file .. " juÅ¼ byÅ‚ pobrany, pomijam.")
		else
			local content = fetchFile(file)
			if content then
				-- zamiast loadstring, tylko printujemy pierwsze znaki zawartoÅ›ci
				print("ğŸ“„ ZawartoÅ›Ä‡ pliku " .. file .. ":")
				print(string.sub(content, 1, 100)) -- pokazuje pierwsze 100 znakÃ³w
				loadedFiles[file] = true
			end
		end
		task.wait(0.5)
	end
	print("ğŸš€ Zestaw '" .. setName .. "' pobrany!")
end

-- ğŸ”¹ Funkcja do pobrania pojedynczego pliku
local function loadSingleScript(file)
	local content = fetchFile(file)
	if content then
		print("ğŸ“„ ZawartoÅ›Ä‡ pliku " .. file .. ":")
		print(string.sub(content, 1, 200))
		loadedFiles[file] = true
	end
end

-- ObsÅ‚uga klawiszy
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	pressedKeys[input.KeyCode] = true

	if pressedKeys[Enum.KeyCode.M] and pressedKeys[Enum.KeyCode.N] then
		print("ğŸŸ  Wykryto M+N â†’ ÅadujÄ™ tylko dec.lua")
		loadSingleScript(decScript)
		return
	end

	if input.KeyCode == Enum.KeyCode.M and not pressedKeys[Enum.KeyCode.N] then
		print("ğŸ”µ ÅadujÄ™ zestaw 1")
		loadScripts(filesSet1, "Zestaw 1")
	end

	if input.KeyCode == Enum.KeyCode.N and not pressedKeys[Enum.KeyCode.M] then
		print("ğŸŸ¢ ÅadujÄ™ zestaw 2 (reset zmienrozb i zmienrozl)")
		loadedFiles["zmienrozb.lua"] = nil
		loadedFiles["zmienrozl.lua"] = nil
		loadScripts(filesSet2, "Zestaw 2")
	end

	if input.KeyCode == Enum.KeyCode.B then
		print("ğŸŸ£ ÅadujÄ™ zestaw 3")
		loadScripts(filesSet3, "Zestaw 3")
	end
end)

UserInputService.InputEnded:Connect(function(input)
	pressedKeys[input.KeyCode] = nil
end)
